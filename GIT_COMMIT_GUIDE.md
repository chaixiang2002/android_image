# Git 提交规范指南

## 提交信息格式

每个提交消息都应该遵循以下格式：

```
<类型>(<范围>): <主题>
<空行>
<正文>
<空行>
<页脚>
```

### 提交示例

```
feat(用户管理): 添加用户注册功能

- 实现用户注册表单
- 添加邮箱验证逻辑
- 创建用户模型及相关迁移

Closes #123
```

## 提交类型

每个提交必须使用以下标准类型之一：

- **feat**: 新功能
- **fix**: 错误修复
- **docs**: 文档变更
- **style**: 代码格式变更（不影响代码功能）
- **refactor**: 代码重构（既不修复错误也不添加功能）
- **perf**: 性能优化
- **test**: 添加或修改测试
- **chore**: 构建过程或辅助工具的变更
- **ci**: CI配置文件和脚本的变更
- **revert**: 回退提交

## 范围说明

范围是可选的，用于指定更改影响的具体部分：
- 模块名称
- 组件名称
- 文件名（不包含扩展名）

例如：`feat(auth)`, `fix(user)`, `docs(api)`

## 主题规范

主题是对变更的简短描述：
- 使用祈使语气（使用"添加"而不是"添加了"或"已添加"）
- 首字母不要大写
- 结尾不加句号
- 保持简洁，不超过50个字符

## 正文规范

正文是可选的，但建议包含以下内容：
- 详细描述更改的内容和原因
- 使用项目符号列表（- 或 *）来组织内容
- 每行不超过72个字符
- 使用中文时注意标点符号使用的一致性

## 页脚规范

页脚是可选的，可以包含：
- 问题引用（例如：`Closes #123`, `Fixes #456`）
- 重大变更说明（以 BREAKING CHANGE 开头）
- 相关PR链接

## 分支命名规范

遵循以下分支命名约定：

- 功能分支：`feat/简短描述` 或 `feature/简短描述`
- 修复分支：`fix/简短描述` 或 `bugfix/简短描述`
- 热修复分支：`hotfix/简短描述`
- 发布分支：`release/版本号`
- 文档分支：`docs/简短描述`

## 最佳实践建议

1. **保持提交原子性**
   - 每个提交只做一件事
   - 避免将多个不相关的更改混在一起

2. **提交频率**
   - 经常提交小的更改
   - 避免积累大量更改后一次性提交

3. **提交信息质量**
   - 清晰描述更改的内容和原因
   - 避免模糊不清的描述如"修复bug"、"更新代码"

4. **代码审查友好**
   - 提供足够的上下文信息
   - 说明测试方法和注意事项

## 工具建议

推荐使用以下工具来协助规范提交：

1. **commitlint**: 检查提交信息是否符合规范
2. **commitizen**: 交互式提交信息生成工具
3. **husky**: Git hooks 工具，可以在提交前运行检查

## 示例集合

### 功能开发
```
feat(登录): 添加社交媒体登录选项

- 集成微信登录API
- 添加QQ登录支持
- 优化登录界面布局

Closes #234
```

### 错误修复
```
fix(数据库): 修复用户查询性能问题

- 优化用户表索引
- 添加查询缓存
- 减少不必要的联表查询

Fixes #567
```

### 文档更新
```
docs(API): 更新用户接口文档

- 添加新接口说明
- 更新错误码列表
- 补充请求示例
```

### 代码重构
```
refactor(核心): 重构数据处理模块

- 提取共用函数
- 优化代码结构
- 改进命名规范

不影响现有功能
```

### 初始化
```
feat(初始化): 创建 Android 镜像构建项目框架

- 搭建基础项目结构，包含 build、sh、util 等核心目录
- 添加 Android 10/14 构建相关的 Dockerfile 和构建脚本
- 创建项目文档，包含 README 和 Git 提交规范指南
- 添加 Docker 容器运行和网络配置脚本
- 设置 .gitignore 和环境配置文件

这是项目的初始提交，建立了基础的项目框架和工具链。
主要包含了 Android 镜像构建、容器运行和网络配置等核心功能的基础实现。 